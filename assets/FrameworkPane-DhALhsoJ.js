import{au as be,av as E,j as a,aw as fe,ax as ye,ay as ve,az as Ne,aA as Ce,aB as se,aC as Ae,aD as Se,aE as $e,aF as we,aG as Pe,aH as Te,aI as Ie,a6 as Me,a as ne,r as U,ae as Ke,am as L,aJ as S,aK as M,ad as Be,aL as ze,aM as Re,ai as Ge,aN as Le,aO as _e,aP as Oe,a3 as Ue,aQ as He,aR as Je}from"./vendor-C-0K7go2.js";import{B as m,b as J,F as c,O as D,T as ee,I as N,S as K}from"./bootstrap-vendor-dK9NTT7j.js";import{c as Fe}from"./api-B4wmcVc5.js";import{y as ae}from"./toastify-vendor-DMbkEXHT.js";import"./gemini-vendor-CZZ1HbHH.js";const w={TOPIK:["Kecerdasan Buatan dalam Pendidikan","Pemanasan Global","Manajemen Waktu untuk Freelancer","Resep Masakan Tradisional Modern","Strategi Pemasaran Digital","Kesehatan Mental di Tempat Kerja","Pengembangan Kota Pintar","Cryptocurrency dan Blockchain"],ROLE:["Seorang Guru SD yang sabar","Seorang Konsultan Bisnis Senior","Seorang Koki Bintang Lima","Seorang Programmer Python Ahli","Seorang Penulis Fiksi Ilmiah","Seorang Terapis Pernikahan","Seorang Sejarawan Seni","Seorang Ahli Strategi SEO"],AUDIENCE:["Mahasiswa tingkat akhir","Anak-anak usia 5-10 tahun","Eksekutif perusahaan","Ibu rumah tangga","Pengembang pemula","Investor aset kripto","Pencinta kucing","Wisatawan backpacker"],TONE:["Profesional dan Otoritatif","Ramah dan Mengundang","Lucu dan Menghibur","Sarkastik dan Tajam","Empatik dan Mendukung","Akademis dan Formal","Antusias dan Berenergi","Misterius dan Menarik"],CONTEXT:["Untuk postingan LinkedIn viral","Untuk email penawaran dingin (cold email)","Untuk thread Twitter/X","Untuk artikel blog SEO-friendly","Untuk skrip video YouTube pendek","Untuk deskripsi produk e-commerce","Untuk surat lamaran kerja","Untuk caption Instagram estetik"],STYLE:["Sangat detail dan komprehensif","Singkat, padat, dan jelas (poin-poin)","Bercerita (Storytelling)","Debat pro dan kontra","Panduan langkah demi langkah (How-to)","Q&A (Tanya Jawab)","Studi kasus nyata","Analogi metaforis"],LANGUAGE:["Bahasa Indonesia Formal (EYD)","Bahasa Indonesia Gaul/Santai","Bahasa Inggris (UK Professional)","Bahasa Inggris (US Casual)","Campuran Indoglish (Jaksel style)","Bahasa Jawa Krama Inggil"],GENRE:["Cyberpunk Dystopian","High Fantasy Medieval","Space Opera Sci-Fi","Noir Detective Mystery","Romantic Comedy","Slice of Life Anime","Dark Psychological Horror"],PLATFORM:["Instagram Reels","TikTok Video","YouTube Shorts","LinkedIn Article","Medium Post","Twitter Thread","Facebook Group Post"],TOPIC:["Artificial Intelligence in Education","Global Warming and Climate Change","Time Management for Freelancers","Modern Twist on Traditional Recipes","Digital Marketing Strategies 2024","Mental Health in the Workplace","Smart City Development","Cryptocurrency and Blockchain"],SUBJECT:["Physics: Quantum Mechanics","History: The Industrial Revolution","Biology: Photosynthesis","Math: Calculus Derivatives","Literature: Shakespearean Tragedy"],KEYWORD:["Sustainable, Eco-friendly, Green","Minimalist, Clean, Modern","Luxury, Premium, Exclusive","Affordable, Budget, Cheap","Fast, Efficient, Quick"]};w.THEME=w.TOPIK;w.BAHASA=w.LANGUAGE;const Ye=l=>{const f=l.toUpperCase().replace(/\s+/g,"_");let i=w[f];if(!i){const j=Object.keys(w).find(P=>f.includes(P));j&&(i=w[j])}if(!i){const j=Object.keys(w).find(P=>P.includes(f));j&&(i=w[j])}if(i&&i.length>0){const j=Math.floor(Math.random()*i.length);return i[j]}return""},Qe=({block:l,index:f,onUpdate:i,onRemove:j,onImageUpload:P})=>{const{attributes:B,listeners:v,setNodeRef:z,transform:g,transition:o}=Pe({id:l.id}),h={transform:Te.Transform.toString(g),transition:o};return a.jsx("div",{ref:z,style:h,...B,children:a.jsx(J,{className:"mb-3",children:a.jsx(J.Body,{children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsx(m,{variant:"light",...v,className:"me-2 p-2",style:{cursor:"grab"},title:"Pindahkan Blok",children:a.jsx(Ie,{})}),l.type==="text"?a.jsx(c.Control,{as:"textarea",placeholder:`Blok Teks #${f+1}`,value:l.content||"",onChange:s=>i(l.id,s.target.value),rows:3}):a.jsxs("div",{className:"w-100",children:[a.jsx(c.Control,{type:"file",accept:"image/*",onChange:s=>P(s,l.id)}),l.content&&a.jsx("img",{src:l.content,alt:"Preview",className:"mt-2",style:{maxWidth:"100%",maxHeight:"200px",objectFit:"contain"}})]}),a.jsx(m,{variant:"outline-danger",onClick:()=>j(l.id),className:"ms-2",title:"Hapus Blok",children:a.jsx(Me,{})})]})})})})},Xe=({blocks:l,onBlocksChange:f})=>{const i=be(E(we),E($e,{coordinateGetter:Se})),j=g=>{const o={id:`block-${Date.now()}`,type:g,content:""};f([...l,o])},P=g=>{f(l.filter(o=>o.id!==g))},B=(g,o)=>{f(l.map(h=>h.id===g?{...h,content:o}:h))},v=(g,o)=>{if(g.target.files&&g.target.files[0]){const h=new FileReader;h.onload=s=>{B(o,s.target?.result)},h.readAsDataURL(g.target.files[0])}},z=g=>{const{active:o,over:h}=g;if(h&&o.id!==h.id){const s=l.findIndex(x=>x.id===o.id),r=l.findIndex(x=>x.id===h.id);f(Ae(l,s,r))}};return a.jsxs("div",{className:"visual-prompt-builder",children:[a.jsx(fe,{sensors:i,collisionDetection:ye,onDragEnd:z,accessibility:{screenReaderInstructions:{draggable:"Untuk mengambil item, tekan spasi. Saat menyeret, gunakan tombol panah untuk memindahkan item. Tekan spasi lagi untuk meletakkan item di posisi baru, atau tekan escape untuk membatalkan."}},children:a.jsx(ve,{items:l,strategy:Ne,children:l.map((g,o)=>a.jsx(Qe,{block:g,index:o,onUpdate:B,onRemove:P,onImageUpload:v},g.id))})}),a.jsxs("div",{className:"d-flex justify-content-end mt-3",children:[a.jsxs(m,{variant:"outline-secondary",onClick:()=>j("text"),className:"me-2",children:[a.jsx(Ce,{className:"me-2"}),"Tambah Blok Teks"]}),a.jsxs(m,{variant:"outline-secondary",onClick:()=>j("image"),children:[a.jsx(se,{className:"me-2"}),"Tambah Blok Gambar"]})]})]})},qe=({currentFrameworkDetails:l,selectedFramework:f,formData:i,customInputs:j,onModelSelect:P,selectedModel:B,showDevMode:v,apiKey:z,setApiKey:g,handleInputChangeWithValidation:o,handleCustomInputChangeWithValidation:h,validationErrors:s,touchedFields:r,handleInputBlur:x,promptBlocks:ie,onPromptBlocksChange:te})=>{const[p,q]=U.useState({}),H=U.useMemo(()=>{const{framework:u}=l||{};return u?.dynamicSubcomponents?(Array.isArray(u.dynamicSubcomponents)?u.dynamicSubcomponents:[u.dynamicSubcomponents]).flatMap(e=>{if(!e||!e.trigger)return[];const b=i[e.trigger];if(b&&e.options[b]){const d=e.options[b];if(Array.isArray(d))return d;if(d&&typeof d=="object"&&"components"in d)return d.components}return[]}):[]},[l,i]),F=(u,t)=>{ae.error(u)},re=!0,Y=(u,t)=>{const e=u,b=String(t.label||t.description||u),d=t.type,T=t.placeholder,Z=t.options,W=t.info,me=t.optional,I=async(n,y,$,O)=>{if(console.log("handleAiAssist - API Key Check:",{apiKey:z,isApiKeyEnabled:re,selectedModel:B}),!z){ae.error("API Key tidak ditemukan. Harap masukkan API Key di Pengaturan Mode Pengembang.");return}q(k=>({...k,[n]:!0}));const G=l?.framework,ge=G?.ai_logic_description||"",ke=G?.perspektif_user||"",pe=G?.komponen_prompt?.PERAN||"",ue=G?.komponen_prompt?.KONTEKS||"",je=G?.komponen_prompt?.TUGAS||"",he=`Anda adalah asisten prompt engineering. Tugas Anda adalah membantu pengguna mengisi atau menyempurnakan bagian dari prompt mereka.

Kerangka Kerja Saat Ini:
Nama: ${G?.nama_kerangka||"N/A"}
Deskripsi: ${G?.description||"N/A"}

Komponen yang sedang diisi:
Judul Komponen: "${b}"
Deskripsi Variabel: "${$.description}"
Contoh/Placeholder: "${T||"N/A"}"

Ini adalah bagian dari kerangka kerja prompt dengan:
PERAN: ${pe}
KONTEKS: ${ue}
TUGAS: ${je}

Logika AI untuk kerangka kerja ini adalah: "${ge}"
Perspektif pengguna untuk kerangka kerja ini adalah: "${ke}"

Teks saat ini di bidang ini adalah: "${y}".

Instruksi:
- Fokuskan respons Anda secara strikt pada variabel "${$.description}" dan judul komponen "${b}" dalam konteks kerangka kerja ini.
- Jika teks saat ini kosong, hasilkan teks yang relevan dan sesuai dengan deskripsi variabel, judul komponen, dan konteks kerangka kerja.
- Jika teks saat ini tidak kosong, perbaiki, perluas, atau sempurnakan teks ini agar lebih baik, lebih lengkap, dan sesuai dengan deskripsi variabel, judul komponen, dan konteks kerangka kerja.
- Berikan hanya teks yang disarankan, tanpa penjelasan tambahan atau pembuka/penutup.
- Pastikan output Anda langsung dapat digunakan sebagai nilai untuk bidang input ini.
`;let V;if((O==="image"||O==="file")&&y&&typeof y=="string"&&y.startsWith("data:")){const k=y.split(";base64,");k.length===2&&(V={mimeType:k[0].substring(5),data:k[1]})}try{const k=await Fe(z,he,B,void 0,V);typeof k=="object"&&k.error?F(`Gagal mendapatkan bantuan AI untuk ${b}. ${k.error}`,"error"):typeof k=="string"&&o(n,k,$)}catch(k){console.error("AI Assist Error:",k),F(`Gagal mendapatkan bantuan AI untuk ${b}. Error: ${k.message||String(k)}`)}finally{q(k=>({...k,[n]:!1}))}},R=(n,y)=>{o(n,"",y)};if(!e)return null;const xe=n=>{switch(n){case"text":case"textarea":return a.jsx(Je,{className:"me-2"});case"number":return a.jsx(He,{className:"me-2"});case"date":case"datetime":return a.jsx(Ue,{className:"me-2"});case"color":return a.jsx(Oe,{className:"me-2"});case"select":case"multiselect":return a.jsx(_e,{className:"me-2"});case"boolean":return a.jsx(Le,{className:"me-2"});case"code":return a.jsx(Ge,{className:"me-2"});case"slider":return a.jsx(Re,{className:"me-2"});case"negative_prompt":return a.jsx(ze,{className:"me-2"});case"image":return a.jsx(se,{className:"me-2"});case"file":return a.jsx(Be,{className:"me-2"});default:return null}};return a.jsxs(c.Group,{className:"mb-3",controlId:e,children:[a.jsxs(c.Label,{htmlFor:e,className:"small mb-1 d-flex align-items-center",children:[xe(d),b,W&&a.jsx(D,{placement:"top",overlay:a.jsx(ee,{id:`tooltip-${e}`,children:W}),children:a.jsx(Ke,{className:"ms-2",style:{cursor:"help"}})}),me&&a.jsx(D,{placement:"top",overlay:a.jsx(ee,{id:`tooltip-optional-${e}`,children:"Bidang ini bersifat opsional dan dapat dibiarkan kosong."}),children:a.jsx("span",{className:"ms-1",style:{cursor:"help"},children:"(Opsional)"})})]}),d==="text"&&a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsxs(N,{className:"flex-grow-1",children:[a.jsx(c.Control,{type:"text",id:e,name:e,placeholder:T,value:i[e]||"",onChange:n=>o(e,n.target.value,t),onBlur:()=>x(e),isInvalid:r[e]&&!!s[e],"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0}),i[e]&&a.jsx(m,{variant:"outline-secondary",onClick:()=>R(e,t),title:"Hapus Input",children:a.jsx(L,{})}),a.jsxs(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:[a.jsx(S,{className:"me-1"}),s[e]||" "]}),a.jsx(m,{variant:"outline-secondary",onClick:()=>{const n=Ye(e);console.log(`Dice clicked for ${e}, suggestion: ${n}`),n?o(e,n,t):F("Maaf, belum ada saran untuk input ini.")},title:"Klik untuk saran acak","aria-label":`Saran acak untuk ${b}`,className:"interactive-input ms-1",children:"ðŸŽ²"})]}),v&&a.jsx(m,{variant:"outline-primary",onClick:()=>I(e,i[e]||"",t,d),disabled:p[e],title:"AI Assist",children:p[e]?a.jsx(K,{as:"span",animation:"border",size:"sm"}):a.jsx(M,{})})]}),d==="number"&&a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsxs(N,{className:"flex-grow-1",children:[a.jsx(c.Control,{type:"number",id:e,name:e,placeholder:T,value:i[e]||"",onChange:n=>o(e,n.target.value,t),onBlur:()=>x(e),isInvalid:r[e]&&!!s[e],"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0}),i[e]&&a.jsx(m,{variant:"outline-secondary",onClick:()=>R(e,t),title:"Hapus Input",children:a.jsx(L,{})}),a.jsxs(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:[a.jsx(S,{className:"me-1"}),s[e]||" "]})]}),v&&a.jsx(m,{variant:"outline-primary",onClick:()=>I(e,i[e]||"",t,d),disabled:p[e],title:"AI Assist",children:p[e]?a.jsx(K,{as:"span",animation:"border",size:"sm"}):a.jsx(M,{})})]}),d==="textarea"&&a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsxs(N,{className:"flex-grow-1",children:[a.jsx(c.Control,{as:"textarea",id:e,name:e,placeholder:T,value:i[e]||"",onChange:n=>o(e,n.target.value,t),onBlur:()=>x(e),rows:Math.max(3,(i[e]||"").split(`
`).length+1),className:"interactive-input",isInvalid:r[e]&&!!s[e],"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0}),i[e]&&a.jsx(m,{variant:"outline-secondary",onClick:()=>R(e,t),title:"Hapus Input",children:a.jsx(L,{})}),a.jsxs(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:[a.jsx(S,{className:"me-1"}),s[e]||" "]})]}),v&&a.jsx(m,{variant:"outline-primary",onClick:()=>I(e,i[e]||"",t,d),disabled:p[e],title:"AI Assist",children:p[e]?a.jsx(K,{as:"span",animation:"border",size:"sm"}):a.jsx(M,{})})]}),d==="negative_prompt"&&a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsxs(N,{className:"flex-grow-1",children:[a.jsx(c.Control,{as:"textarea",id:e,name:e,placeholder:T||"Masukkan hal-hal yang ingin dihindari...",value:i[e]||"",onChange:n=>o(e,n.target.value,t),onBlur:()=>x(e),rows:Math.max(2,(i[e]||"").split(`
`).length+1),className:"interactive-input",isInvalid:r[e]&&!!s[e],"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0}),i[e]&&a.jsx(m,{variant:"outline-secondary",onClick:()=>R(e,t),title:"Hapus Input",children:a.jsx(L,{})}),a.jsxs(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:[a.jsx(S,{className:"me-1"}),s[e]||" "]})]}),v&&a.jsx(m,{variant:"outline-primary",onClick:()=>I(e,i[e]||"",t,d),disabled:p[e],title:"AI Assist","aria-label":`Minta bantuan AI untuk ${b}`,children:p[e]?a.jsx(K,{as:"span",animation:"border",size:"sm"}):a.jsx(M,{})})]}),d==="color"&&a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsxs(N,{className:"flex-grow-1",children:[a.jsx(c.Control,{type:"color",id:e,name:e,placeholder:T,value:i[e]||"",onChange:n=>o(e,n.target.value,t),onBlur:()=>x(e),className:"interactive-input",isInvalid:r[e]&&!!s[e],"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0}),i[e]&&a.jsx(m,{variant:"outline-secondary",onClick:()=>R(e,t),title:"Hapus Input",children:a.jsx(L,{})}),a.jsxs(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:[a.jsx(S,{className:"me-1"}),s[e]||" "]})]}),v&&a.jsx(m,{variant:"outline-primary",onClick:()=>I(e,i[e]||"",t,d),disabled:p[e],title:"AI Assist",children:p[e]?a.jsx(K,{as:"span",animation:"border",size:"sm"}):a.jsx(M,{})})]}),d==="date"&&a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsxs(N,{className:"flex-grow-1",children:[a.jsx(c.Control,{type:"date",id:e,name:e,placeholder:T,value:i[e]||"",onChange:n=>o(e,n.target.value,t),onBlur:()=>x(e),isInvalid:r[e]&&!!s[e],"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0}),i[e]&&a.jsx(m,{variant:"outline-secondary",onClick:()=>R(e,t),title:"Hapus Input",children:a.jsx(L,{})}),a.jsxs(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:[a.jsx(S,{className:"me-1"}),s[e]||" "]})]}),v&&a.jsx(m,{variant:"outline-primary",onClick:()=>I(e,i[e]||"",t,d),disabled:p[e],title:"AI Assist",children:p[e]?a.jsx(K,{as:"span",animation:"border",size:"sm"}):a.jsx(M,{})})]}),d==="slider"&&a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsxs(N,{className:"flex-grow-1",children:[a.jsx(c.Range,{id:e,name:e,min:t.min||0,max:t.max||100,step:t.step||1,value:i[e]||t.min||0,onChange:n=>o(e,n.target.value,t),onBlur:()=>x(e),"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0}),a.jsxs(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:[a.jsx(S,{className:"me-1"}),s[e]||" "]})]}),v&&a.jsx(m,{variant:"outline-primary",onClick:()=>I(e,i[e]||"",t,d),disabled:p[e],title:"AI Assist",children:p[e]?a.jsx(K,{as:"span",animation:"border",size:"sm"}):a.jsx(M,{})})]}),d==="select"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"d-flex align-items-center",children:a.jsxs(N,{className:"flex-grow-1",children:[a.jsx(c.Select,{id:e,name:e,value:i[e]||"",onChange:n=>o(e,n.target.value,t),onBlur:()=>x(e),isInvalid:r[e]&&!!s[e],children:Z?.map(n=>typeof n=="string"?a.jsx("option",{value:n,children:n},n):a.jsx("option",{value:n.value,children:n.label},n.value))}),a.jsx(c.Control.Feedback,{type:"invalid",children:s[e]})]})}),i[e]==="Lainnya..."&&a.jsxs(c.Group,{className:"mt-2",controlId:`${e}-custom`,children:[a.jsx(c.Control,{type:"text",placeholder:`Sebutkan ${b} Lainnya`,value:j[e]||"",onChange:n=>h(e,n.target.value,t),onBlur:()=>x(`${e}-custom`),isInvalid:r[`${e}-custom`]&&!!s[`${e}-custom`]}),a.jsx(c.Control.Feedback,{type:"invalid",children:s[`${e}-custom`]})]})]}),d==="boolean"&&a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx(c.Check,{type:"checkbox",id:e,name:e,label:b,checked:!!i[e],onChange:n=>o(e,n.target.checked,t),onBlur:()=>x(e),isInvalid:r[e]&&!!s[e],"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0}),a.jsx(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:s[e]||" "})]}),d==="code"&&a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsxs(N,{className:"flex-grow-1",children:[a.jsx(c.Control,{as:"textarea",id:e,name:e,placeholder:T,value:i[e]||"",onChange:n=>o(e,n.target.value,t),onBlur:()=>x(e),rows:Math.max(5,(i[e]||"").split(`
`).length+1),isInvalid:r[e]&&!!s[e],"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0}),i[e]&&a.jsx(m,{variant:"outline-secondary",onClick:()=>R(e,t),title:"Hapus Input",children:a.jsx(L,{})}),a.jsxs(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:[a.jsx(S,{className:"me-1"}),s[e]||" "]})]}),v&&a.jsx(m,{variant:"outline-primary",onClick:()=>I(e,i[e]||"",t,d),disabled:p[e],title:"AI Assist",children:p[e]?a.jsx(K,{as:"span",animation:"border",size:"sm"}):a.jsx(M,{})})]}),d==="multiselect"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-100",children:a.jsxs(N,{children:[a.jsx(c.Select,{name:e,value:i[e]||[],onChange:n=>o(e,Array.from(n.target.selectedOptions,y=>y.value),t),onBlur:()=>x(e),className:"form-select",multiple:!0,isInvalid:r[e]&&!!s[e],"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0,children:Z?.map(n=>a.jsx("option",{value:n.value,children:n.label},n.value))}),a.jsx(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:s[e]||" "})]})}),i[e]&&i[e].includes("Lainnya...")&&a.jsxs(c.Group,{className:"mt-2",controlId:`${e}-custom`,children:[a.jsx(c.Control,{type:"text",placeholder:`Sebutkan ${b} Lainnya`,value:j[e]||"",onChange:n=>h(e,n.target.value,t),onBlur:()=>x(`${e}-custom`),isInvalid:r[`${e}-custom`]&&!!s[`${e}-custom`]}),a.jsx(c.Control.Feedback,{type:"invalid",children:s[`${e}-custom`]})]})]}),d==="image"&&a.jsx("div",{className:"d-flex align-items-center",children:a.jsxs(N,{className:"flex-grow-1",children:[a.jsx(c.Control,{type:"file",name:e,accept:"image/*",onChange:n=>{if(n.target.files&&n.target.files[0]){const y=n.target.files[0],$=new FileReader;$.onload=O=>{o(e,O.target?.result,t)},$.readAsDataURL(y)}},onBlur:()=>x(e),isInvalid:r[e]&&!!s[e],"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0}),a.jsxs(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:[a.jsx(S,{className:"me-1"}),s[e]||" "]})]})}),d==="file"&&a.jsx("div",{className:"d-flex align-items-center",children:a.jsxs(N,{className:"flex-grow-1",children:[a.jsx(c.Control,{type:"file",name:e,accept:".txt,.pdf",onChange:n=>{if(n.target.files&&n.target.files[0]){const y=n.target.files[0],$=new FileReader;$.onload=O=>{o(e,O.target?.result,t)},$.readAsText(y)}},onBlur:()=>x(e),isInvalid:r[e]&&!!s[e],"aria-invalid":r[e]&&s[e]?"true":"false","aria-describedby":r[e]&&s[e]?`validation-feedback-${e}`:void 0}),a.jsxs(c.Control.Feedback,{type:"invalid",id:`validation-feedback-${e}`,children:[a.jsx(S,{className:"me-1"}),s[e]||" "]})]})})]},e)},[Q,le]=U.useState(!1),[C,X]=U.useState(0);ne.useEffect(()=>{X(0)},[f]);const _=U.useMemo(()=>[...l?.framework?.components||[],...H],[l,H]),ce=()=>{C<_.length-1&&X(C+1)},oe=()=>{C>0&&X(C-1)},A=_[C],de=A&&!A.optional&&!!s[A.name]||A&&!A.optional&&!i[A.name];return a.jsx(J,{className:"flex-grow-1 h-100",children:a.jsxs(J.Body,{className:"d-flex flex-column text-start",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center pb-3 mb-3 border-bottom",children:[a.jsx("h2",{className:"h5 mb-0",children:"3. Komponen Kerangka Kerja:"}),a.jsx(c.Check,{type:"switch",id:"wizard-mode-switch",label:"Mode Wizard",checked:Q,onChange:()=>le(!Q),title:"Aktifkan untuk mode panduan langkah-demi-langkah"})]}),l?l.framework?.builder==="visual"?a.jsx(Xe,{blocks:ie,onBlocksChange:te}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"h5",children:f}),a.jsx("p",{className:"small",children:l.framework?.description}),a.jsx("div",{className:"flex-grow-1 overflow-auto pe-2",children:Q?a.jsxs("div",{className:"d-flex flex-column h-100",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsxs("p",{className:"text-center mb-2",children:["Langkah ",C+1," dari"," ",_.length]}),a.jsx("div",{className:"progress mb-4",role:"progressbar","aria-valuenow":(C+1)/_.length*100,"aria-valuemin":0,"aria-valuemax":100,style:{height:"8px"},children:a.jsx("div",{className:"progress-bar",style:{width:`${(C+1)/_.length*100}%`}})}),A&&a.jsxs("div",{className:"mb-3 p-3 border rounded",children:[a.jsx("p",{className:"fw-bold",children:"Panduan Cara Menggunakan Mode Wizard:"}),a.jsx("p",{className:"small mb-2",children:"Mode Wizard memandu Anda mengisi prompt langkah demi langkah. Fokus pada satu input relevan per langkah. Gunakan tombol navigasi. Bidang wajib diisi sebelum lanjut. Mode ini ideal untuk prompt kompleks atau pengguna baru. Matikan sakelar 'Mode Wizard' untuk keluar."}),a.jsx("p",{className:"fw-bold",children:"Deskripsi Kerangka Kerja:"}),a.jsxs("p",{className:"small mb-0",children:[l.framework?.description&&a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Ringkasan:"})," ",l.framework.description]}),l.framework?.perspektif_user&&a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Perspektif Pengguna:"})," ",l.framework.perspektif_user]}),l.framework?.ai_logic_description&&a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Logika AI:"})," ",l.framework.ai_logic_description]}),l.framework?.konteks_tambahan_instruksi_khusus&&a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Instruksi Khusus:"})," ",l.framework.konteks_tambahan_instruksi_khusus]}),l.framework?.contoh_kalimat&&a.jsxs("p",{className:"mb-0",children:[a.jsx("strong",{children:"Contoh Penggunaan:"})," ",l.framework.contoh_kalimat]})]})]}),a.jsx(c,{children:A&&Y(A.name,A)})]}),a.jsxs("div",{className:"mt-auto pt-3 d-flex justify-content-between",children:[a.jsx(m,{variant:"secondary",onClick:oe,disabled:C===0,children:"â† Sebelumnya"}),a.jsx(m,{variant:"primary",onClick:ce,disabled:C===_.length-1||de,children:"Berikutnya â†’"})]})]}):a.jsxs(c,{children:[l.framework?.components?.map(u=>Y(u.name,u)),H.length>0&&a.jsxs("div",{className:"dynamic-components-section p-3 my-3 rounded",children:[a.jsx("h6",{className:"h6 mb-2",children:"Pengaturan Lanjutan:"}),a.jsx("p",{className:"small mb-0",children:"Bidang-bidang ini muncul berdasarkan pilihan Anda di atas, menyesuaikan dengan kebutuhan spesifik kerangka kerja."})]}),H.map(u=>Y(u.name,u))]})})]}):a.jsxs("div",{className:"flex-grow-1 d-flex flex-column justify-content-center align-items-center placeholder-content",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-card-list mb-3",viewBox:"0 0 16 16",style:{width:"clamp(40px, 8vw, 64px)",height:"clamp(40px, 8vw, 64px)",color:"var(--accent-color)"},children:[a.jsx("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"}),a.jsx("path",{d:"M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"})]}),a.jsx("h5",{className:"text-center",style:{fontSize:"clamp(1.2rem, 2.5vw, 1.5rem)",color:"var(--text-color)"},children:"Pilih Kerangka Kerja"}),a.jsx("p",{className:"small text-center",style:{fontSize:"clamp(0.9rem, 1.5vw, 1rem)",color:"var(--secondary-text-color)"},children:"Silakan pilih kategori dan kerangka kerja dari panel di sebelah kiri untuk melihat komponennya di sini."})]})]})})},ea=ne.memo(qe);export{ea as default};
