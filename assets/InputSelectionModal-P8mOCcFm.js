import{r as d,j as e,ak as N,al as T,am as B,an as E}from"./vendor-CSLY-SmC.js";import{P as y}from"./index-Dzc0ZYVL.js";import{c as K}from"./categoryUtils-DgX9EYe_.js";import{M as o,I as v,F as P,B as b,R as A,a as f,L as i,A as m,c as z}from"./bootstrap-vendor-BDZr_8wO.js";import"./toastify-vendor-Ddy96bbr.js";const $=({show:C,onHide:u,outputToChain:F,onSelectInput:w})=>{const[t,I]=d.useState(null),[r,j]=d.useState(null),[c,p]=d.useState(""),g=s=>{I(s),j(null)},S=s=>{j(s)},L=()=>{t&&r&&(w(t,r,F),u())},x=d.useMemo(()=>{const s=[];return Object.entries(y).forEach(([a,l])=>{Object.entries(l).forEach(([h,n])=>{Object.entries(n).forEach(([R,k])=>{s.push({name:R,description:k.description,category:a,subcategory:h,details:k})})})}),s},[]),M=d.useMemo(()=>{const s=c.toLowerCase();return s?x.filter(a=>a.name.toLowerCase().includes(s)||a.description.toLowerCase().includes(s)||a.category.toLowerCase().includes(s)||a.subcategory.toLowerCase().includes(s)||a.details.components?.some(l=>l.name.toLowerCase().includes(s)||l.label.toLowerCase().includes(s))):[]},[c,x]),O=t?(s=>x.find(a=>a.name===s)?.details)(t):void 0;return e.jsxs(o,{show:C,onHide:u,size:"xl",centered:!0,dialogClassName:"modal-themed",scrollable:!0,children:[e.jsx(o.Header,{closeButton:!0,className:"modal-header-themed border-bottom-0",children:e.jsxs(o.Title,{className:"d-flex align-items-center gap-2 text-info",children:[e.jsx(N,{})," Hubungkan Output ke Input"]})}),e.jsxs(o.Body,{className:"modal-body-themed p-0",children:[e.jsx("div",{className:"p-3 bg-dark border-bottom border-secondary",children:e.jsxs(v,{children:[e.jsx(v.Text,{className:"bg-dark text-info border-secondary border-end-0",children:e.jsx(T,{})}),e.jsx(P.Control,{type:"text",placeholder:"Cari kerangka kerja target...",value:c,onChange:s=>p(s.target.value),className:"bg-dark text-light border-secondary border-start-0 ps-0"}),c&&e.jsx(b,{variant:"outline-secondary",className:"border-secondary",onClick:()=>p(""),children:e.jsx(B,{})})]})}),e.jsxs(A,{className:"g-0",style:{height:"65vh"},children:[e.jsxs(f,{md:6,className:"border-end border-secondary d-flex flex-column h-100",children:[e.jsx("div",{className:"p-3 bg-dark-subtle border-bottom border-secondary",children:e.jsx("h6",{className:"mb-0 small text-uppercase letter-spacing-1 text-muted",children:"1. Pilih Kerangka Kerja"})}),e.jsx("div",{className:"flex-grow-1 overflow-auto p-3 custom-scrollbar",children:c.length>0?e.jsx(i,{variant:"flush",children:M.map(s=>e.jsx(i.Item,{action:!0,active:t===s.name,onClick:()=>g(s.name),className:"bg-transparent border-0 rounded mb-1 p-3 list-item-chain",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold text-light",children:s.name}),e.jsxs("div",{className:"small text-muted",children:[s.category," › ",s.subcategory]})]}),t===s.name&&e.jsx(E,{className:"text-info"})]})},s.name))}):e.jsx(m,{className:"chain-accordion",flush:!0,children:Object.entries(y).sort((s,a)=>s[0].localeCompare(a[0])).map(([s,a])=>e.jsxs(m.Item,{eventKey:s,className:"bg-transparent border-0",children:[e.jsx(m.Header,{className:`category-link ${K[s]}`,children:s}),e.jsx(m.Body,{className:"p-0",children:Object.entries(a).map(([l,h])=>e.jsxs("div",{children:[e.jsx("div",{className:"px-4 py-2 bg-dark text-muted small text-uppercase fw-bold border-bottom border-secondary opacity-50",children:l}),Object.entries(h).map(([n])=>e.jsx(i.Item,{action:!0,active:t===n,onClick:()=>g(n),className:"ps-5 bg-transparent border-0 list-item-chain",children:n},n))]},l))})]},s))})})]}),e.jsxs(f,{md:6,className:"d-flex flex-column h-100 bg-dark-subtle",children:[e.jsx("div",{className:"p-3 bg-dark border-bottom border-secondary",children:e.jsx("h6",{className:"mb-0 small text-uppercase letter-spacing-1 text-muted",children:"2. Pilih Input Tujuan"})}),e.jsx("div",{className:"flex-grow-1 overflow-auto p-3 custom-scrollbar",children:t?e.jsx(i,{variant:"flush",children:O?.components?.map(s=>e.jsx(i.Item,{action:!0,active:r===s.name,onClick:()=>S(s.name),className:"bg-dark border border-secondary rounded mb-2 p-3 list-item-field",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold text-info",children:s.label}),e.jsx("code",{className:"small text-secondary",children:s.name}),e.jsxs("div",{className:"small text-muted mt-1",children:[s.type," input"]})]}),r===s.name&&e.jsx(z,{bg:"info",pill:!0,children:"Terpilih"})]})},s.name))}):e.jsxs("div",{className:"h-100 d-flex flex-column justify-content-center align-items-center text-muted opacity-50 p-5 text-center",children:[e.jsx(N,{size:40,className:"mb-3"}),e.jsx("p",{children:"Silakan pilih kerangka kerja di panel kiri untuk melihat daftar input yang tersedia."})]})})]})]})]}),e.jsxs(o.Footer,{className:"modal-footer-themed border-top border-secondary bg-dark",children:[e.jsx("div",{className:"me-auto text-muted small d-none d-md-block",children:t&&r&&e.jsxs("span",{children:["Menghubungkan ke: ",e.jsx("strong",{children:t})," ","› ",e.jsx("strong",{children:r})]})}),e.jsx(b,{variant:"outline-secondary",onClick:u,children:"Batal"}),e.jsx(b,{variant:"primary",onClick:L,disabled:!t||!r,className:"px-4",children:"Terapkan Koneksi"})]})]})};export{$ as default};
