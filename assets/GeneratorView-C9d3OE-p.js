const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NavigationPane-BWq9zq-C.js","assets/vendor-CSLY-SmC.js","assets/index-DyIi46F4.js","assets/bootstrap-vendor-BDZr_8wO.js","assets/bootstrap-vendor-DBkz-poX.css","assets/toastify-vendor-Ddy96bbr.js","assets/toastify-vendor-VYesxZYF.css","assets/index-DvhXzdLq.css","assets/categoryUtils-DgX9EYe_.js","assets/FrameworkPane-B-MhShKx.js","assets/api-B4wmcVc5.js","assets/gemini-vendor-CZZ1HbHH.js","assets/OutputDisplay-BChtt3BS.js","assets/promptGenerators-DJ-rJUqy.js","assets/OnboardingTour-nT-psUiC.js"])))=>i.map(i=>d[i]);
import{r as n,j as F,a as N,_ as Q}from"./vendor-CSLY-SmC.js";import{g as ye,a as be,b as Se,c as we,d as _e}from"./promptGenerators-DJ-rJUqy.js";import{P as z}from"./index-DyIi46F4.js";import{R as xe,a as ee}from"./bootstrap-vendor-BDZr_8wO.js";import"./toastify-vendor-Ddy96bbr.js";const te=(y,a,i)=>{const t=i.validation,_=a===""||a===null||typeof a=="string"&&a.trim()==="";if(i.optional&&_)return"";if(!i.optional&&_)return t&&typeof a=="string"&&t.min_length&&t.min_length>0?`Bidang '${i.label||i.name||y}' membutuhkan minimal ${t.min_length} karakter.`:`Bidang '${i.label||i.name||y}' tidak boleh kosong.`;if(t){if(t.min_length&&typeof a=="string"&&a.length<t.min_length)return`Input ini membutuhkan minimal ${t.min_length} karakter.`;if(t.max_length&&typeof a=="string"&&a.length>t.max_length)return`Bidang '${i.label||i.name||y}' tidak boleh lebih dari ${t.max_length} karakter.`;if(t.regex&&typeof a=="string"&&!new RegExp(t.regex).test(a))return"Format input tidak valid. Mohon periksa kembali.";if(t.min_value&&typeof a=="number"&&a<t.min_value)return`Nilai minimal yang diizinkan adalah ${t.min_value}.`;if(t.max_value&&typeof a=="number"&&a>t.max_value)return`Nilai maksimal yang diizinkan adalah ${t.max_value}.`;if(t.min_date&&new Date(a)<new Date(t.min_date))return`Tanggal untuk bidang '${i.label||i.name||y}' tidak boleh sebelum ${t.min_date}.`;if(t.max_date&&new Date(a)>new Date(t.max_date))return`Tanggal untuk bidang '${i.label||i.name||y}' tidak boleh setelah ${t.max_date}.`}return""};function Ee(y){const[a,i]=n.useState(null),[t,_]=n.useState(null),[V,A]=n.useState({}),[W,C]=n.useState({}),[P,E]=n.useState(""),[O,T]=n.useState(""),[b,D]=n.useState(""),[x,R]=n.useState(!1);n.useEffect(()=>{const e=setTimeout(()=>{T(P)},300);return()=>clearTimeout(e)},[P]);const v=n.useMemo(()=>{const e=[];return Object.entries(z).forEach(([s,c])=>{c&&Object.entries(c).forEach(([o,u])=>{u&&Object.entries(u).forEach(([g,m])=>{e.push({...m,category:s,subcategory:o,name:g})})})}),e},[]),j=n.useCallback(e=>{const s=v.find(c=>c.name===e);if(s){const{category:c,subcategory:o,...u}=s;return{framework:u,category:c,subcategory:o}}return null},[v]),B=n.useCallback(e=>{i(e),_(null),E(""),T(""),D(""),A({}),C({})},[]),L=n.useCallback((e,s,c)=>{let o=null;if(s&&c?o={framework:z[s][c][e],category:s,subcategory:c}:o=j(e),!o)return;i(o.category),_(e),E(""),T(""),D(""),C({[o.subcategory]:!0});const u={},g=o.framework.components?.map(m=>[m.name,m])||[];for(const[m,w]of g){const f=w;if(f.default!==void 0&&f.default!==null)u[m]=f.default;else if(f.type==="select"&&f.options?.length){const h=f.options[0];typeof h=="string"&&(h.startsWith("Pilih")||h.startsWith("Select"))?u[m]=f.options[1]||"":u[m]=h}else u[m]=""}y({type:"SET_FORM_DATA",payload:{formData:u}})},[y,j]);n.useEffect(()=>{const e=new URLSearchParams(window.location.search),s=e.get("category"),c=e.get("framework");c?L(c):s&&B(s)},[]),n.useEffect(()=>{const e=new URLSearchParams;t?e.set("framework",t):a&&e.set("category",a);const s=e.toString(),c=s?`${window.location.pathname}?${s}`:window.location.pathname;window.location.search!==(s?`?${s}`:"")&&history.pushState({},"",c)},[a,t]);const I=n.useMemo(()=>{R(!0);const e={},s=O.toLowerCase(),c=O||b;return!a&&!c?(R(!1),{}):(a&&!c?z[a]&&(e[a]=JSON.parse(JSON.stringify(z[a]))):(v.forEach(o=>{const u=o.category,g=o.subcategory,m=o.name,w=!a||u===a,f=m.toLowerCase().includes(s)||o.id_kerangka&&o.id_kerangka.toLowerCase().includes(s)||o.nama_kerangka&&o.nama_kerangka.toLowerCase().includes(s)||o.description.toLowerCase().includes(s),h=!b||o.toolType===b;w&&f&&h&&(e[u]||(e[u]={}),e[u][g]||(e[u][g]={}),e[u][g][m]=o)}),Object.keys(e).forEach(o=>{e[o]&&(Object.keys(e[o]).forEach(u=>{Object.keys(e[o][u]).length===0&&delete e[o][u]}),Object.keys(e[o]).length===0&&delete e[o])})),R(!1),e)},[O,b,a,v]);n.useEffect(()=>{const e={};(O||b)&&Object.values(I).forEach(c=>{Object.keys(c).forEach(o=>{e[o]=!0})}),A(e)},[I,O,b,a]);const U=e=>{const s=e.target.value;E(s),i(null),C({})},q=e=>{D(e.target.value),E(""),T(""),i(null),C({})},S=e=>{C(s=>({...s,[e]:!s[e]}))},G=()=>{i(null),_(null),E(""),T(""),D("")},J=n.useMemo(()=>t?j(t):null,[t,j]);return{selectedCategory:a,setSelectedCategory:i,selectedFramework:t,setSelectedFramework:_,openSubcategories:V,manualOpenSubcategories:W,searchQuery:P,debouncedSearchQuery:O,toolTypeFilter:b,handleToolTypeFilterChange:q,filteredFrameworks:I,currentFrameworkDetails:J,handleCategorySelect:B,handleFrameworkSelect:L,handleSearchChange:U,handleSubcategoryToggle:S,handleBackToCategories:G,findFrameworkInAllCategories:j,isLoading:x}}const Oe=N.lazy(()=>Q(()=>import("./NavigationPane-BWq9zq-C.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),Fe=N.lazy(()=>Q(()=>import("./FrameworkPane-B-MhShKx.js"),__vite__mapDeps([9,1,3,4,10,11,5,6]))),Ce=N.lazy(()=>Q(()=>import("./OutputDisplay-BChtt3BS.js"),__vite__mapDeps([12,1,10,11,3,4,5,6,13,2,7]))),Pe=N.lazy(()=>Q(()=>import("./OnboardingTour-nT-psUiC.js"),__vite__mapDeps([14,1,3,4]))),Ie=({showDevMode:y,isApiKeyEnabled:a,apiKey:i,setApiKey:t,showOnboardingTour:_,setShowOnboardingTour:V,handleSavePrompt:A,handleUseAsInput:W,onShowSavedPrompts:C,promptToLoad:P,onLoadComplete:E,onNavigate:O})=>{const T=r=>{switch(r.type){case"SET_FORM_DATA":m(r.payload.formData),f({});break;case"RESET_FORM":m({}),f({});break}},{selectedCategory:b,setSelectedCategory:D,selectedFramework:x,setSelectedFramework:R,openSubcategories:v,manualOpenSubcategories:j,searchQuery:B,debouncedSearchQuery:L,toolTypeFilter:I,handleToolTypeFilterChange:U,filteredFrameworks:q,currentFrameworkDetails:S,handleCategorySelect:G,handleFrameworkSelect:J,handleSearchChange:e,handleSubcategoryToggle:s,handleBackToCategories:c,isLoading:o}=Ee(T),u=o,[g,m]=n.useState({}),[w,f]=n.useState({}),[h,H]=n.useState([{id:`block-${Date.now()}`,type:"text",content:""}]),[ne,ae]=n.useState(()=>sessionStorage.getItem("selectedModel")||"gemini-3.0-flash"),[oe,M]=n.useState({}),[ue,se]=n.useState({}),[de,re]=n.useState(""),[me,X]=n.useState([]),[ge,Y]=n.useState(""),[fe,Z]=n.useState("");n.useEffect(()=>{if(P){const{parentPrompt:r,versionData:l}=P,{category:p,frameworkName:k}=r||{},{formData:d,customInputs:$}=l||{};p&&D(p),k&&R(k),m(d||{}),f($||{}),l&&Array.isArray(l.naturalLanguageOutput)?H([{id:`block-${Date.now()}`,type:"text",content:""}]):H([{id:`block-${Date.now()}`,type:"text",content:""}]),E()}},[P,E,D,R]);const ie=n.useCallback((r,l,p)=>{m(k=>{const d={...k,[r]:l};let $="";return(typeof l=="string"||typeof l=="number")&&($=te(r,l,p)),M(K=>({...K,[r]:$})),d})},[m,M]),pe=n.useCallback((r,l,p)=>{f(d=>({...d,[r]:l}));const k=te(r,l,p);M(d=>({...d,[`${r}-custom`]:k}))},[f,M]),he=n.useCallback(r=>{se(l=>({...l,[r]:!0}))},[se]),le=n.useCallback(r=>{ae(r)},[ae]),ke=(r,l)=>{const p={};if(!l)return p;const k={...l.components?Object.fromEntries(l.components.map(d=>[d.name,d])):{}};for(const d in k){const $=k[d],K=r[d],ce=te(d,K,$);ce&&(p[d]=ce)}return l.crossValidationRules&&l.crossValidationRules.forEach(d=>{r[d.triggerField]===d.triggerValue&&!r[d.dependentField]&&(p[d.dependentField]=d.errorMessage)}),p};return n.useEffect(()=>{if(S&&x){if(S.framework.builder==="visual"){const l=ye(h);Y(l);const p=be(h);X(p),Z(JSON.stringify(h,null,2))}else{const l=Se(S.framework,g,w);Y(l);const p=we(S.framework,g,w);X(p);const k=_e(S.framework,x,g,w);re(k),Z(k)}const r=ke(g,S.framework);M(r)}else X([]),re(""),Y(""),Z(""),M({})},[S,x,g,w,h]),n.useEffect(()=>{if(x&&window.innerWidth<1200){const r=document.getElementById("framework-pane-container");r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[x]),F.jsxs(xe,{className:"flex-grow-1 g-4 align-items-stretch",children:[F.jsx(ee,{xs:12,xl:4,className:"navigation-pane h-100",id:"navigation-pane",children:F.jsx(Oe,{selectedCategory:b,searchQuery:B,debouncedSearchQuery:L,filteredFrameworks:q,openSubcategories:v,manualOpenSubcategories:j,handleCategorySelect:G,handleBackToCategories:c,handleFrameworkSelect:J,handleSearchChange:e,handleSubcategoryToggle:s,toolTypeFilter:I,handleToolTypeFilterChange:U,isLoading:u,showInitialMessage:!b&&!L&&!I,onNavigate:O})}),F.jsx(ee,{xs:12,xl:4,className:"d-flex flex-column h-100",id:"framework-pane-container",children:F.jsx(Fe,{currentFrameworkDetails:S,selectedFramework:x,formData:g,customInputs:w,promptBlocks:h,onPromptBlocksChange:H,onModelSelect:le,selectedModel:ne,showDevMode:y,apiKey:i,setApiKey:t,handleInputChangeWithValidation:ie,handleCustomInputChangeWithValidation:pe,validationErrors:oe,touchedFields:ue,handleInputBlur:he})}),F.jsx(ee,{xs:12,xl:4,className:"d-flex flex-column h-100",children:F.jsx(Ce,{naturalLanguageOutput:me,jsonOutput:de,previewNaturalLanguageOutput:ge,previewJsonOutput:fe,currentFrameworkDetails:S,formData:g,customInputs:w,selectedFramework:x,selectedCategory:b,onUseAsInput:W,onShowSavedPrompts:C,showDevMode:y,onSavePrompt:A,apiKey:i,setApiKey:t,selectedModel:ne,onModelSelect:le,isApiKeyEnabled:a,handleInputChangeWithValidation:ie,validationErrors:oe,onSelectRecommendedFramework:J})}),F.jsx(Pe,{show:_,onHide:()=>V(!1),onComplete:()=>V(!1)})]})};export{Ie as default};
