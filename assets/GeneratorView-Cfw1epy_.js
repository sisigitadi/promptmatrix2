const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NavigationPane-DG-IXAx9.js","assets/vendor-CSLY-SmC.js","assets/index-6aHuMA2t.js","assets/bootstrap-vendor-BDZr_8wO.js","assets/bootstrap-vendor-DBkz-poX.css","assets/toastify-vendor-Ddy96bbr.js","assets/toastify-vendor-VYesxZYF.css","assets/index-DvhXzdLq.css","assets/categoryUtils-DgX9EYe_.js","assets/FrameworkPane-BvYE9g_Z.js","assets/api-B4wmcVc5.js","assets/gemini-vendor-CZZ1HbHH.js","assets/OutputDisplay-CVP1Tu9W.js","assets/promptGenerators-fyYACigY.js","assets/OnboardingTour-nT-psUiC.js"])))=>i.map(i=>d[i]);
import{r as n,j as O,a as N,_ as Q}from"./vendor-CSLY-SmC.js";import{g as ye,a as be,b as we,c as Se,d as _e}from"./promptGenerators-fyYACigY.js";import{P as z}from"./index-6aHuMA2t.js";import{R as xe,a as ee}from"./bootstrap-vendor-BDZr_8wO.js";import"./toastify-vendor-Ddy96bbr.js";const te=(k,a,i)=>{const t=i.validation,S=a===""||a===null||typeof a=="string"&&a.trim()==="";if(i.optional&&S)return"";if(!i.optional&&S)return t&&typeof a=="string"&&t.min_length&&t.min_length>0?`Bidang '${i.label||i.name||k}' membutuhkan minimal ${t.min_length} karakter.`:`Bidang '${i.label||i.name||k}' tidak boleh kosong.`;if(t){if(t.min_length&&typeof a=="string"&&a.length<t.min_length)return`Input ini membutuhkan minimal ${t.min_length} karakter.`;if(t.max_length&&typeof a=="string"&&a.length>t.max_length)return`Bidang '${i.label||i.name||k}' tidak boleh lebih dari ${t.max_length} karakter.`;if(t.regex&&typeof a=="string"&&!new RegExp(t.regex).test(a))return"Format input tidak valid. Mohon periksa kembali.";if(t.min_value&&typeof a=="number"&&a<t.min_value)return`Nilai minimal yang diizinkan adalah ${t.min_value}.`;if(t.max_value&&typeof a=="number"&&a>t.max_value)return`Nilai maksimal yang diizinkan adalah ${t.max_value}.`;if(t.min_date&&new Date(a)<new Date(t.min_date))return`Tanggal untuk bidang '${i.label||i.name||k}' tidak boleh sebelum ${t.min_date}.`;if(t.max_date&&new Date(a)>new Date(t.max_date))return`Tanggal untuk bidang '${i.label||i.name||k}' tidak boleh setelah ${t.max_date}.`}return""};function Ee(k){const[a,i]=n.useState(null),[t,S]=n.useState(null),[V,A]=n.useState({}),[U,F]=n.useState({}),[C,x]=n.useState(""),[E,P]=n.useState(""),[y,T]=n.useState(""),[_,R]=n.useState(!1);n.useEffect(()=>{const e=setTimeout(()=>{P(C)},300);return()=>clearTimeout(e)},[C]);const v=n.useMemo(()=>{const e=[];return Object.entries(z).forEach(([s,c])=>{c&&Object.entries(c).forEach(([o,u])=>{u&&Object.entries(u).forEach(([g,m])=>{e.push({...m,category:s,subcategory:o,name:g})})})}),e},[]),D=n.useCallback(e=>{const s=v.find(c=>c.name===e);if(s){const{category:c,subcategory:o,...u}=s;return{framework:u,category:c,subcategory:o}}return null},[v]),B=n.useCallback(e=>{i(e),S(null),x(""),P(""),T(""),A({}),F({})},[]),L=n.useCallback((e,s,c)=>{let o=null;if(s&&c?o={framework:z[s][c][e],category:s,subcategory:c}:o=D(e),!o)return;i(o.category),S(e),x(""),P(""),T(""),F({[o.subcategory]:!0});const u={},g=o.framework.components?.map(m=>[m.name,m])||[];for(const[m,w]of g){const p=w;p.default!==void 0&&p.default!==null?u[m]=p.default:(p.type,u[m]="")}k({type:"SET_FORM_DATA",payload:{formData:u}})},[k,D]);n.useEffect(()=>{const e=new URLSearchParams(window.location.search),s=e.get("category"),c=e.get("framework");c?L(c):s&&B(s)},[]),n.useEffect(()=>{const e=new URLSearchParams;t?e.set("framework",t):a&&e.set("category",a);const s=e.toString(),c=s?`${window.location.pathname}?${s}`:window.location.pathname;window.location.search!==(s?`?${s}`:"")&&history.pushState({},"",c)},[a,t]);const I=n.useMemo(()=>{R(!0);const e={},s=E.toLowerCase(),c=E||y;return!a&&!c?(R(!1),{}):(a&&!c?z[a]&&(e[a]=JSON.parse(JSON.stringify(z[a]))):(v.forEach(o=>{const u=o.category,g=o.subcategory,m=o.name,w=!a||u===a,p=m.toLowerCase().includes(s)||o.id_kerangka&&o.id_kerangka.toLowerCase().includes(s)||o.nama_kerangka&&o.nama_kerangka.toLowerCase().includes(s)||o.description.toLowerCase().includes(s),j=!y||o.toolType===y;w&&p&&j&&(e[u]||(e[u]={}),e[u][g]||(e[u][g]={}),e[u][g][m]=o)}),Object.keys(e).forEach(o=>{e[o]&&(Object.keys(e[o]).forEach(u=>{Object.keys(e[o][u]).length===0&&delete e[o][u]}),Object.keys(e[o]).length===0&&delete e[o])})),R(!1),e)},[E,y,a,v]);n.useEffect(()=>{const e={};(E||y)&&Object.values(I).forEach(c=>{Object.keys(c).forEach(o=>{e[o]=!0})}),A(e)},[I,E,y,a]);const W=e=>{const s=e.target.value;x(s),i(null),F({})},q=e=>{T(e.target.value),x(""),P(""),i(null),F({})},b=e=>{F(s=>({...s,[e]:!s[e]}))},G=()=>{i(null),S(null),x(""),P(""),T("")},J=n.useMemo(()=>t?D(t):null,[t,D]);return{selectedCategory:a,setSelectedCategory:i,selectedFramework:t,setSelectedFramework:S,openSubcategories:V,manualOpenSubcategories:U,searchQuery:C,debouncedSearchQuery:E,toolTypeFilter:y,handleToolTypeFilterChange:q,filteredFrameworks:I,currentFrameworkDetails:J,handleCategorySelect:B,handleFrameworkSelect:L,handleSearchChange:W,handleSubcategoryToggle:b,handleBackToCategories:G,findFrameworkInAllCategories:D,isLoading:_}}const Oe=N.lazy(()=>Q(()=>import("./NavigationPane-DG-IXAx9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),Fe=N.lazy(()=>Q(()=>import("./FrameworkPane-BvYE9g_Z.js"),__vite__mapDeps([9,1,3,4,10,11,5,6]))),Ce=N.lazy(()=>Q(()=>import("./OutputDisplay-CVP1Tu9W.js"),__vite__mapDeps([12,1,10,11,3,4,5,6,13,2,7]))),Pe=N.lazy(()=>Q(()=>import("./OnboardingTour-nT-psUiC.js"),__vite__mapDeps([14,1,3,4]))),Ie=({showDevMode:k,isApiKeyEnabled:a,apiKey:i,setApiKey:t,showOnboardingTour:S,setShowOnboardingTour:V,handleSavePrompt:A,handleUseAsInput:U,onShowSavedPrompts:F,promptToLoad:C,onLoadComplete:x,onNavigate:E})=>{const P=r=>{switch(r.type){case"SET_FORM_DATA":m(r.payload.formData),p({});break;case"RESET_FORM":m({}),p({});break}},{selectedCategory:y,setSelectedCategory:T,selectedFramework:_,setSelectedFramework:R,openSubcategories:v,manualOpenSubcategories:D,searchQuery:B,debouncedSearchQuery:L,toolTypeFilter:I,handleToolTypeFilterChange:W,filteredFrameworks:q,currentFrameworkDetails:b,handleCategorySelect:G,handleFrameworkSelect:J,handleSearchChange:e,handleSubcategoryToggle:s,handleBackToCategories:c,isLoading:o}=Ee(P),u=o,[g,m]=n.useState({}),[w,p]=n.useState({}),[j,H]=n.useState([{id:`block-${Date.now()}`,type:"text",content:""}]),[ne,ae]=n.useState(()=>sessionStorage.getItem("selectedModel")||"gemini-3.0-flash"),[oe,M]=n.useState({}),[ue,se]=n.useState({}),[de,re]=n.useState(""),[me,X]=n.useState([]),[ge,Y]=n.useState(""),[fe,Z]=n.useState("");n.useEffect(()=>{if(C){const{parentPrompt:r,versionData:l}=C,{category:f,frameworkName:h}=r||{},{formData:d,customInputs:$}=l||{};f&&T(f),h&&R(h),m(d||{}),p($||{}),l&&Array.isArray(l.naturalLanguageOutput)?H([{id:`block-${Date.now()}`,type:"text",content:""}]):H([{id:`block-${Date.now()}`,type:"text",content:""}]),x()}},[C,x,T,R]);const ie=n.useCallback((r,l,f)=>{m(h=>{const d={...h,[r]:l};let $="";return(typeof l=="string"||typeof l=="number")&&($=te(r,l,f)),M(K=>({...K,[r]:$})),d})},[m,M]),pe=n.useCallback((r,l,f)=>{p(d=>({...d,[r]:l}));const h=te(r,l,f);M(d=>({...d,[`${r}-custom`]:h}))},[p,M]),he=n.useCallback(r=>{se(l=>({...l,[r]:!0}))},[se]),le=n.useCallback(r=>{ae(r)},[ae]),ke=(r,l)=>{const f={};if(!l)return f;const h={...l.components?Object.fromEntries(l.components.map(d=>[d.name,d])):{}};for(const d in h){const $=h[d],K=r[d],ce=te(d,K,$);ce&&(f[d]=ce)}return l.crossValidationRules&&l.crossValidationRules.forEach(d=>{r[d.triggerField]===d.triggerValue&&!r[d.dependentField]&&(f[d.dependentField]=d.errorMessage)}),f};return n.useEffect(()=>{if(b&&_){if(b.framework.builder==="visual"){const l=ye(j);Y(l);const f=be(j);X(f),Z(JSON.stringify(j,null,2))}else{const l=we(b.framework,g,w);Y(l);const f=Se(b.framework,g,w);X(f);const h=_e(b.framework,_,g,w);re(h),Z(h)}const r=ke(g,b.framework);M(r)}else X([]),re(""),Y(""),Z(""),M({})},[b,_,g,w,j]),n.useEffect(()=>{if(_&&window.innerWidth<1200){const r=document.getElementById("framework-pane-container");r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[_]),O.jsxs(xe,{className:"flex-grow-1 g-4 align-items-stretch",children:[O.jsx(ee,{xs:12,xl:4,className:"navigation-pane h-100",id:"navigation-pane",children:O.jsx(Oe,{selectedCategory:y,searchQuery:B,debouncedSearchQuery:L,filteredFrameworks:q,openSubcategories:v,manualOpenSubcategories:D,handleCategorySelect:G,handleBackToCategories:c,handleFrameworkSelect:J,handleSearchChange:e,handleSubcategoryToggle:s,toolTypeFilter:I,handleToolTypeFilterChange:W,isLoading:u,showInitialMessage:!y&&!L&&!I,onNavigate:E})}),O.jsx(ee,{xs:12,xl:4,className:"d-flex flex-column h-100",id:"framework-pane-container",children:O.jsx(Fe,{currentFrameworkDetails:b,selectedFramework:_,formData:g,customInputs:w,promptBlocks:j,onPromptBlocksChange:H,onModelSelect:le,selectedModel:ne,showDevMode:k,apiKey:i,setApiKey:t,handleInputChangeWithValidation:ie,handleCustomInputChangeWithValidation:pe,validationErrors:oe,touchedFields:ue,handleInputBlur:he})}),O.jsx(ee,{xs:12,xl:4,className:"d-flex flex-column h-100",children:O.jsx(Ce,{naturalLanguageOutput:me,jsonOutput:de,previewNaturalLanguageOutput:ge,previewJsonOutput:fe,currentFrameworkDetails:b,formData:g,customInputs:w,selectedFramework:_,selectedCategory:y,onUseAsInput:U,onShowSavedPrompts:F,showDevMode:k,onSavePrompt:A,apiKey:i,setApiKey:t,selectedModel:ne,onModelSelect:le,isApiKeyEnabled:a,handleInputChangeWithValidation:ie,validationErrors:oe,onSelectRecommendedFramework:J})}),O.jsx(Pe,{show:S,onHide:()=>V(!1),onComplete:()=>V(!1)})]})};export{Ie as default};
